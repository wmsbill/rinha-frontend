var G=Object.create;var w=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var V=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty;var Y=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(a,c)=>(typeof require<"u"?require:a)[c]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var q=(r,a)=>()=>(a||r((a={exports:{}}).exports,a),a.exports);var J=(r,a,c,d)=>{if(a&&typeof a=="object"||typeof a=="function")for(let n of D(a))!j.call(r,n)&&n!==c&&w(r,n,{get:()=>a[n],enumerable:!(d=M(a,n))||d.enumerable});return r};var K=(r,a,c)=>(c=r!=null?G(V(r)):{},J(a||!r||!r.__esModule?w(c,"default",{value:r,enumerable:!0}):c,r));var U=q(B=>{(function(r){"use strict";var a=typeof process=="object"&&process.env?process.env:self;r.parser=function(t){return new N(t)},r.CParser=N,r.CStream=h,r.createStream=C,r.MAX_BUFFER_LENGTH=64*1024,r.DEBUG=a.CDEBUG==="debug",r.INFO=a.CDEBUG==="debug"||a.CDEBUG==="info",r.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var c={textNode:void 0,numberNode:""},d=r.EVENTS.filter(function(t){return t!=="error"&&t!=="end"}),n=0,m;r.STATE={BEGIN:n++,VALUE:n++,OPEN_OBJECT:n++,CLOSE_OBJECT:n++,OPEN_ARRAY:n++,CLOSE_ARRAY:n++,TEXT_ESCAPE:n++,STRING:n++,BACKSLASH:n++,END:n++,OPEN_KEY:n++,CLOSE_KEY:n++,TRUE:n++,TRUE2:n++,TRUE3:n++,FALSE:n++,FALSE2:n++,FALSE3:n++,FALSE4:n++,NULL:n++,NULL2:n++,NULL3:n++,NUMBER_DECIMAL_POINT:n++,NUMBER_DIGIT:n++};for(var _ in r.STATE)r.STATE[r.STATE[_]]=_;n=r.STATE;let s={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(t){function e(){this.__proto__=t}return e.prototype=t,new e}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__}),Object.keys||(Object.keys=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e});function O(t){var e=Math.max(r.MAX_BUFFER_LENGTH,10),i=0;for(var o in c){var E=t[o]===void 0?0:t[o].length;if(E>e)switch(o){case"text":closeText(t);break;default:f(t,"Max buffer length exceeded: "+o)}i=Math.max(i,E)}t.bufferCheckPosition=r.MAX_BUFFER_LENGTH-i+t.position}function g(t){for(var e in c)t[e]=c[e]}var S=/[\\"\n]/g;function N(t){if(!(this instanceof N))return new N(t);var e=this;g(e),e.bufferCheckPosition=r.MAX_BUFFER_LENGTH,e.q=e.c=e.p="",e.opt=t||{},e.closed=e.closedRoot=e.sawRoot=!1,e.tag=e.error=null,e.state=n.BEGIN,e.stack=new Array,e.position=e.column=0,e.line=1,e.slashed=!1,e.unicodeI=0,e.unicodeS=null,e.depth=0,l(e,"onready")}N.prototype={end:function(){T(this)},write:F,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{m=Y("stream").Stream}catch{m=function(){}}function C(t){return new h(t)}function h(t){if(!(this instanceof h))return new h(t);this._parser=new N(t),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var e=this;m.apply(e),this._parser.onend=function(){e.emit("end")},this._parser.onerror=function(i){e.emit("error",i),e._parser.error=null},d.forEach(function(i){Object.defineProperty(e,"on"+i,{get:function(){return e._parser["on"+i]},set:function(o){if(!o)return e.removeAllListeners(i),e._parser["on"+i]=o,o;e.on(i,o)},enumerable:!0,configurable:!1})})}h.prototype=Object.create(m.prototype,{constructor:{value:h}}),h.prototype.write=function(t){t=new Buffer(t);for(var e=0;e<t.length;e++){var i=t[e];if(this.bytes_remaining>0){for(var o=0;o<this.bytes_remaining;o++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+o]=t[o];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,e=e+o-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&i>=128)if(i>=194&&i<=223&&(this.bytes_in_sequence=2),i>=224&&i<=239&&(this.bytes_in_sequence=3),i>=240&&i<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+e>t.length){for(var E=0;E<=t.length-1-e;E++)this.temp_buffs[this.bytes_in_sequence][E]=t[e+E];return this.bytes_remaining=e+this.bytes_in_sequence-t.length,!0}else{this.string=t.slice(e,e+this.bytes_in_sequence).toString(),e=e+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var A=e;A<t.length&&!(t[A]>=128);A++);this.string=t.slice(e,A).toString(),this._parser.write(this.string),this.emit("data",this.string),e=A-1}},h.prototype.end=function(t){return t&&t.length&&this._parser.write(t.toString()),this._parser.end(),!0},h.prototype.on=function(t,e){var i=this;return!i._parser["on"+t]&&d.indexOf(t)!==-1&&(i._parser["on"+t]=function(){var o=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);o.splice(0,0,t),i.emit.apply(i,o)}),m.prototype.on.call(i,t,e)},h.prototype.destroy=function(){g(this._parser),this.emit("close")};function l(t,e,i){r.INFO&&console.log("-- emit",e,i),t[e]&&t[e](i)}function u(t,e,i){p(t),l(t,e,i)}function p(t,e){t.textNode=P(t.opt,t.textNode),t.textNode!==void 0&&l(t,e||"onvalue",t.textNode),t.textNode=void 0}function k(t){t.numberNode&&l(t,"onvalue",parseFloat(t.numberNode)),t.numberNode=""}function P(t,e){return e===void 0||(t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," "))),e}function f(t,e){return p(t),e+=`
Line: `+t.line+`
Column: `+t.column+`
Char: `+t.c,e=new Error(e),t.error=e,l(t,"onerror",e),t}function T(t){return(t.state!==n.VALUE||t.depth!==0)&&f(t,"Unexpected end"),p(t),t.c="",t.closed=!0,l(t,"onend"),N.call(t,t.opt),t}function x(t){return t===s.carriageReturn||t===s.lineFeed||t===s.space||t===s.tab}function F(t){var e=this;if(this.error)throw this.error;if(e.closed)return f(e,"Cannot write after close. Assign an onready handler.");if(t===null)return T(e);var i=0,o=t.charCodeAt(0),E=e.p,A=!1;for(r.DEBUG&&console.log("write -> ["+t+"]");o&&(E=o,e.c=o=t.charCodeAt(i++),E!==o?e.p=E:E=e.p,!!o);)switch(r.DEBUG&&console.log(i,o,r.STATE[e.state]),A?A=!1:(e.position++,o===s.lineFeed?(e.line++,e.column=0):e.column++),e.state){case n.BEGIN:o===s.openBrace?e.state=n.OPEN_OBJECT:o===s.openBracket?e.state=n.OPEN_ARRAY:x(o)||f(e,"Non-whitespace before {[.");continue;case n.OPEN_KEY:case n.OPEN_OBJECT:if(x(o))continue;if(e.state===n.OPEN_KEY)e.stack.push(n.CLOSE_KEY);else if(o===s.closeBrace){l(e,"onopenobject"),this.depth++,l(e,"oncloseobject"),this.depth--,e.state=e.stack.pop()||n.VALUE;continue}else e.stack.push(n.CLOSE_OBJECT);o===s.doubleQuote?e.state=n.STRING:f(e,'Malformed object key should start with "');continue;case n.CLOSE_KEY:case n.CLOSE_OBJECT:if(x(o))continue;var z=e.state===n.CLOSE_KEY?"key":"object";o===s.colon?(e.state===n.CLOSE_OBJECT?(e.stack.push(n.CLOSE_OBJECT),p(e,"onopenobject"),this.depth++):p(e,"onkey"),e.state=n.VALUE):o===s.closeBrace?(u(e,"oncloseobject"),this.depth--,e.state=e.stack.pop()||n.VALUE):o===s.comma?(e.state===n.CLOSE_OBJECT&&e.stack.push(n.CLOSE_OBJECT),p(e),e.state=n.OPEN_KEY):f(e,"Bad object");continue;case n.OPEN_ARRAY:case n.VALUE:if(x(o))continue;if(e.state===n.OPEN_ARRAY)if(l(e,"onopenarray"),this.depth++,e.state=n.VALUE,o===s.closeBracket){l(e,"onclosearray"),this.depth--,e.state=e.stack.pop()||n.VALUE;continue}else e.stack.push(n.CLOSE_ARRAY);o===s.doubleQuote?e.state=n.STRING:o===s.openBrace?e.state=n.OPEN_OBJECT:o===s.openBracket?e.state=n.OPEN_ARRAY:o===s.t?e.state=n.TRUE:o===s.f?e.state=n.FALSE:o===s.n?e.state=n.NULL:o===s.minus?e.numberNode+="-":s._0<=o&&o<=s._9?(e.numberNode+=String.fromCharCode(o),e.state=n.NUMBER_DIGIT):f(e,"Bad value");continue;case n.CLOSE_ARRAY:if(o===s.comma)e.stack.push(n.CLOSE_ARRAY),p(e,"onvalue"),e.state=n.VALUE;else if(o===s.closeBracket)u(e,"onclosearray"),this.depth--,e.state=e.stack.pop()||n.VALUE;else{if(x(o))continue;f(e,"Bad array")}continue;case n.STRING:e.textNode===void 0&&(e.textNode="");var b=i-1,L=e.slashed,y=e.unicodeI;e:for(;;){for(r.DEBUG&&console.log(i,o,r.STATE[e.state],L);y>0;)if(e.unicodeS+=String.fromCharCode(o),o=t.charCodeAt(i++),e.position++,y===4?(e.textNode+=String.fromCharCode(parseInt(e.unicodeS,16)),y=0,b=i-1):y++,!o)break e;if(o===s.doubleQuote&&!L){e.state=e.stack.pop()||n.VALUE,e.textNode+=t.substring(b,i-1),e.position+=i-1-b;break}if(o===s.backslash&&!L&&(L=!0,e.textNode+=t.substring(b,i-1),e.position+=i-1-b,o=t.charCodeAt(i++),e.position++,!o))break;if(L){if(L=!1,o===s.n?e.textNode+=`
`:o===s.r?e.textNode+="\r":o===s.t?e.textNode+="	":o===s.f?e.textNode+="\f":o===s.b?e.textNode+="\b":o===s.u?(y=1,e.unicodeS=""):e.textNode+=String.fromCharCode(o),o=t.charCodeAt(i++),e.position++,b=i-1,o)continue;break}S.lastIndex=i;var v=S.exec(t);if(v===null){i=t.length+1,e.textNode+=t.substring(b,i-1),e.position+=i-1-b;break}if(i=v.index+1,o=t.charCodeAt(v.index),!o){e.textNode+=t.substring(b,i-1),e.position+=i-1-b;break}}e.slashed=L,e.unicodeI=y;continue;case n.TRUE:o===s.r?e.state=n.TRUE2:f(e,"Invalid true started with t"+o);continue;case n.TRUE2:o===s.u?e.state=n.TRUE3:f(e,"Invalid true started with tr"+o);continue;case n.TRUE3:o===s.e?(l(e,"onvalue",!0),e.state=e.stack.pop()||n.VALUE):f(e,"Invalid true started with tru"+o);continue;case n.FALSE:o===s.a?e.state=n.FALSE2:f(e,"Invalid false started with f"+o);continue;case n.FALSE2:o===s.l?e.state=n.FALSE3:f(e,"Invalid false started with fa"+o);continue;case n.FALSE3:o===s.s?e.state=n.FALSE4:f(e,"Invalid false started with fal"+o);continue;case n.FALSE4:o===s.e?(l(e,"onvalue",!1),e.state=e.stack.pop()||n.VALUE):f(e,"Invalid false started with fals"+o);continue;case n.NULL:o===s.u?e.state=n.NULL2:f(e,"Invalid null started with n"+o);continue;case n.NULL2:o===s.l?e.state=n.NULL3:f(e,"Invalid null started with nu"+o);continue;case n.NULL3:o===s.l?(l(e,"onvalue",null),e.state=e.stack.pop()||n.VALUE):f(e,"Invalid null started with nul"+o);continue;case n.NUMBER_DECIMAL_POINT:o===s.period?(e.numberNode+=".",e.state=n.NUMBER_DIGIT):f(e,"Leading zero not followed by .");continue;case n.NUMBER_DIGIT:s._0<=o&&o<=s._9?e.numberNode+=String.fromCharCode(o):o===s.period?(e.numberNode.indexOf(".")!==-1&&f(e,"Invalid number has two dots"),e.numberNode+="."):o===s.e||o===s.E?((e.numberNode.indexOf("e")!==-1||e.numberNode.indexOf("E")!==-1)&&f(e,"Invalid number has two exponential"),e.numberNode+="e"):o===s.plus||o===s.minus?(E===s.e||E===s.E||f(e,"Invalid symbol in number"),e.numberNode+=String.fromCharCode(o)):(k(e),i--,A=!0,e.state=e.stack.pop()||n.VALUE);continue;default:f(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&O(e),e}})(typeof B>"u"?clarinet={}:B)});var R=K(U(),1);function I(r,a=250,c){var d=R.default.parser(),n=["root"],m=[0],_=null,s=0,O=0,g=[],S,N=new Promise(u=>S=u);function C(u,p){O++,g.push([s,p,u]),O%a===0&&c&&(c(g),g=[])}function h(u,p){(n.at(-1)==="array"||n.at(-1)==="root"&&u==="array")&&(_=m[s]++),_!==null&&(C(p,_),s++),n.push(u)}function l(u){s--,n.pop(),C(u,"")}return d.onerror=u=>{throw u},d.onkey=u=>{_=u},d.onvalue=u=>{var p=n.at(-1)==="array"?m[s]++:_;_=null,C(u,p)},d.onopenobject=u=>{h("object","{",u),_=u},d.onopenarray=()=>{h("array","["),m[s]=0},d.oncloseobject=()=>{s!==0&&l("}")},d.onclosearray=()=>{l("]")},d.onend=()=>{S(g)},d.write(r).close(),N}onmessage=r=>{var[a,c]=r.data;a==="file-upload"&&Q(c)};function H(r){postMessage(["parsing-page",r])}function Q(r){postMessage(["parsing-started"]),X(r).then(a=>{postMessage(["parsing-done",a])}).catch(()=>{postMessage(["parsing-error"])})}async function X(r){var a=new FileReaderSync,c=a.readAsText(r);return await I(c,250,H)}
